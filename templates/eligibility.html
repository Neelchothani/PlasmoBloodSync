{% extends "base.html" %}
{% block title %}Eligibility | PlasmoBlood Sync{% endblock %}

{% block content %}
<div class="min-h-[80vh] flex flex-col items-center justify-center px-4">

  <!-- Professional eligibility info box -->
  <div class="w-full max-w-xl mb-6 bg-blue-900/40 border border-blue-500 text-blue-200 p-4 rounded-xl shadow-sm flex items-start gap-3">
    <svg class="w-6 h-6 mt-1 text-blue-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M12 20c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8z" />
    </svg>
    <p class="text-sm leading-relaxed">
      <span class="font-semibold text-white">Note:</span> To be eligible for donation, you must be at least 
      <span class="font-bold text-white">18 years old </span>, weigh at least 
      <span class="font-bold text-white">50kg</span>
      <span class="font-bold text-white">and Last donation should be at least 3 months ago.</span>
    
    </p>
  </div>

  <!-- Form Card -->
  <div class="w-full max-w-xl p-6 bg-[#1a1c2c] rounded-2xl shadow-xl border border-gray-700">
    <h2 class="text-3xl font-bold mb-4 text-accent dark:text-yellow-400">Eligibility Checker</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="mb-6 space-y-2">
          {% for category, message in messages %}
            <div class="px-4 py-3 rounded-xl text-sm font-medium shadow-md
              {% if category == 'success' %}bg-green-100 text-green-800 dark:bg-green-200
              {% elif category == 'error' %}bg-red-100 text-red-800 dark:bg-red-300
              {% else %}bg-gray-100 text-gray-800 dark:bg-gray-300{% endif %}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form method="POST" action="/check-eligibility" enctype="multipart/form-data" class="space-y-6">
      <div>
        <label for="age" class="block text-sm font-semibold mb-2 text-gray-300">Age</label>
        <input type="number" id="age" name="age" required
               class="w-full px-4 py-3 rounded-xl bg-gray-900 text-white focus:ring-2 focus:ring-yellow-500 outline-none">
      </div>

      <div>
        <label for="weight" class="block text-sm font-semibold mb-2 text-gray-300">Weight (in kg)</label>
        <input type="number" id="weight" name="weight" required
               class="w-full px-4 py-3 rounded-xl bg-gray-900 text-white focus:ring-2 focus:ring-yellow-500 outline-none">
      </div>

      <div>
        <label for="last_donation" class="block text-sm font-semibold mb-2 text-gray-300">Date of Last Donation</label>
        <input type="date" id="last_donation" name="last_donation" required
               class="w-full px-4 py-3 rounded-xl bg-gray-900 text-white focus:ring-2 focus:ring-yellow-500 outline-none">
      </div>

      <div>
        <label for="document" class="block text-sm font-semibold mb-2 text-gray-300">Medical Report (PDF or Image)</label>
        <input type="file" name="document" accept=".pdf,.png,.jpg,.jpeg" required
               class="w-full text-white file:bg-yellow-500 file:text-white file:rounded-lg file:px-4 file:py-2 bg-gray-900 rounded-xl cursor-pointer">
      </div>

      <div>
        <label for="citizenship_proof" class="block text-sm font-semibold mb-2 text-gray-300">Citizenship/ID Proof</label>
        <input type="file" name="citizenship_proof" accept=".pdf,.png,.jpg,.jpeg"
               class="w-full text-white file:bg-yellow-500 file:text-white file:rounded-lg file:px-4 file:py-2 bg-gray-900 rounded-xl cursor-pointer">
      </div>

      <div class="pt-4">
        <button type="submit"
                class="w-full bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-xl font-semibold transition-all shadow-md shadow-green-500/20">
          âœ… Check Eligibility
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
